const { getLoopTestTitle } = require("../../utils/test");
const { generateRandomNumber } = require("../../utils/random");
const add = require("./index");

describe("Static tests", () => {
  const tests = [
    { input: ["91", "19"], output: "110" },
    { input: ["123456789", "987654322"], output: "1111111111" },
    { input: ["999999999", "1"], output: "1000000000" },
    {
      input: [
        "823094582094385190384102934810293481029348123094818923749817",
        "234758927345982475298347523984572983472398457293847594193837",
      ],
      output: "1057853509440367665682450458794866464501746580388666517943654",
    },
    {
      input: [
        "234859234758913759182357398457398474598237459823745928347538",
        "987429134712934876249385134781395873198472398562384958739845",
      ],
      output: "1222288369471848635431742533238794347796709858386130887087383",
    },
    {
      input: [
        "854694587458967459867923420398420394845873945734985374844444",
        "333333333333439439483948394839834938493843948394839432322229",
      ],
      output: "1188027920792406899351871815238255333339717894129824807166673",
    },
    {
      input: [
        "666666665656566666666565656666666656565666666665656566666666",
        "464646464646464644646464646464646464646464646463463463463466",
      ],
      output: "1131313130303031311313030303131313121212131313129120030130132",
    },
    {
      input: [
        "987429134712934876249385134781395873198472398562384958739845234859234758913759182357398457398474598237459823745928347538",
        "835743829547328954732895474893754893753281957319857432958432548937859483265893274891378593187431583942678439217431924789",
      ],
      output:
        "1823172964260263830982280609675150766951754355882242391698277783797094242179652457248777050585906182180138262963360272327",
    },
  ];

  tests.forEach(({ input, output }, index) => {
    const testTitle = getLoopTestTitle(index + 1, input, output);

    it(testTitle, () => {
      expect(add(...input)).toEqual(output);
    });
  });
});

describe("Random tests", () => {
  for (i = 0; i < 10; i++) {
    const a = generateRandomNumber(0, 1_000_000);
    const b = generateRandomNumber(0, 1_000_000);
    const input = ["" + a, "" + b];
    const output = "" + (a + b);
    const testTitle = getLoopTestTitle(i + 1, input, output);

    it(testTitle, () => {
      expect(add(...input)).toEqual(output);
    });
  }
});
